{% extends "base_mainpage.html" %}
{% block menu %}
	<a class="button_for_listing_mainbox" href="/">Home</a>
	{% if g.log %}
	<a class="button_for_listing_mainbox" href="/admin">Admin pannel</a>
	{% endif %}
	<a class="button_for_listing_mainbox" href="/browser">List USB contents</a>
{% endblock %}
{% block browser %}

<div class="master_result">
	<form method="POST" class="master_result">	
		<div class="button_to_del">
			{% if lenght > 0 %}
				<input type="submit" name="validate_res" class="but_del_res" value="Delete">
			{% endif %}
		</div>
		<div class="out_file_result_scan">
			<table  class="table_result">
				<thead>
					<tr class="row_header_del">
						<th class="box_check_del checbox_del_header"><input class="" title="Select all" type="checkbox" onclick="selectall()" id="selectedall" ></th>
						<th class="file_del">Files</th>
						<th class="file_del">Type</th>
					</tr>
				</thead>
				<tbody>
					{% if lenght > 0 %}
						{% for file in files %}
							<tr>
								<td class="box_check_del"><input class="" title="Select" type="checkbox" id="checking" name="{{ file }}"></td>
								<td class="file_del"><p>{{ file[0] }}</p></td>
								<td class="file_del"><p>{{ file[1] }}</p></td>
							</tr>
						{% endfor %}
					{% else %}
					<tr>
						<td></td>
						<td>No file is suspicious</td>
						<td></td>
					</tr>
					{% endif %}
				</tbody>
			</table>
		</div>
	</form>
</div>


{% endblock %}
{% block styles %}
<style type="text/css">

.master_result{
	display: flex;
	flex-direction: row;
	justify-content: center;
}

.button_to_del{
	margin: 1em 1em 0em 1em ;
}

.out_file_result_scan{
	padding: 1em;

}

.but_del_res{
	border: 2px solid gray;
	color: gray;
	background-color: white;
	padding: 8px 20px;
	border-radius: 10px;
	font-size: 1em;
	font-weight: bold;
	cursor: pointer;
}

.table_result{
	background-color: black;
	width:70em	;
	height:80px;
	border: 1px solid black;
	border-collapse: collapse;
}

.box_check_del{
	display: flex;
	justify-content: center;
	align-items: center;
	height: 3em;
}

.row_header_del{
	border-bottom: 1px solid black;
}

.file_del{
	text-align: center;
}


.checbox_del_header{
	height: 2em;
}

.checkbox_resultat{
	width: 100%;
	height: 100;
	background-color: green;
}

.table_result th{
	background-color: #b2b2b2;
}

.table_result tr{
	background-color: white;
}

.table_result tr:nth-child(odd){
	background-color: #e2e2e2;
}

</style>
{% endblock %}
{% block script %}
<script type="text/javascript">
function selectall(){
	var elem = document.getElementById("selectedall");
	if(elem.checked){
		var getchecked = document.querySelectorAll('#checking');
		getchecked.forEach(function(checkbox){
			checkbox.checked = true;
		});
	}else{
		var getchecked = document.querySelectorAll('#checking');
		getchecked.forEach(function(checkbox){
			checkbox.checked = false;
		});
	}
}
</script>
{% endblock %}